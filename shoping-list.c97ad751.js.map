{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,WACO,IAQWC,EAGdC,EAFIC,EAOAC,EAhBKC,EAAM,mBACbC,EAAa,GACbC,EAAO,CACXC,mBAAoBC,SAASC,cAAc,8BAC3CC,kBAAmBF,SAASC,cAAc,wBAC1CE,iBAAkBH,SAASC,cAAc,wBAsD3C,SAASG,EAAiBC,GACxB,GAAKA,EAAEC,OAAOC,UAAUC,SAAS,wBAAjC,CAIA,IAAMC,EAAkBJ,EAAEC,OAAOI,QAAQ,wBACnCC,EAAmBF,EAAgBG,aAAa,cACtDH,EAAgBI,SAEhB,IAAMC,EAAQjB,EAAWkB,WAAU,SAAAC,G,OAAQA,EAAKC,QAAUN,C,KAC5C,IAAVG,IACFjB,EAAWqB,OAAOJ,EAAO,GACzBK,aAAaC,QAAQxB,EAAKyB,KAAKC,UAAUzB,KAGjB,IAAtBA,EAAW0B,SACbJ,aAAaK,WAAW5B,GACxBE,EAAKI,kBAAkBK,UAAUkB,IAAI,mBACrC3B,EAAKK,iBAAiBI,UAAUM,OAAO,mBAhBvC,C,CArDcrB,EAyETI,GAxEDF,EAAayB,aAAaO,QAAQlC,MAEtCC,EAAAI,GAAW8B,KAAXC,MAAAnC,EAAgBoC,EAAAvC,EAAA,CAAG+B,KAAKS,MAAMpC,KAwER,IAAtBG,EAAW0B,OACbzB,EAAKI,kBAAkBK,UAAUkB,IAAI,oBAErC3B,EAAKK,iBAAiBI,UAAUkB,IAAI,mBAtE9B9B,EAuEOE,EAtEVkC,KAAI,SAAAC,G,IAAGC,EAAGD,EAAHC,IAAKhB,EAAKe,EAALf,MAAOiB,EAAQF,EAARE,SAAUC,EAAWH,EAAXG,YAAaC,EAAMJ,EAANI,OAAQC,EAAML,EAANK,OAAQC,EAAKN,EAALM,MACzD,MAAO,yDAE+BC,OADUtB,EAAM,kDACHsB,OAAbN,EAAI,WAGLM,OAHctB,EAAM,yJAIjBsB,OADHtB,EAAM,sDAEAsB,OADHL,EAAS,yDAIXK,OAHKJ,EAAY,yHAOjCI,OAJgBH,EAAO,4HAYvBG,OARAF,EAAO,2OAQDE,OAAND,EAAM,2T,IAa7BE,KAAK,IACR1C,EAAKC,mBAAmB0C,mBAAmB,YAAa9C,GAExDG,EAAKC,mBAAmB2C,iBAAiB,QAAStC,G","sources":["src/js/shopping-list.js"],"sourcesContent":["import './support/support-render';\nexport const key = 'booksShopingList';\nconst booksArray = [];\nconst refs = {\n  booksContainerShop: document.querySelector('.books-container-shop-list'),\n  containerShopList: document.querySelector('.container-shop-list'),\n  shoppingWrapDesk: document.querySelector('.shopping-wrap-desk'),\n};\n\nfunction getBooks(key) {\n  const savedBooks = localStorage.getItem(key);\n  if (savedBooks) {\n    booksArray.push(...JSON.parse(savedBooks));\n  }\n}\n\nfunction createMarkup(books) {\n  const markup = books\n    .map(({ img, title, category, description, author, amazon, apple }) => {\n      return `\n        <li class=\"book-card-shop-list\" data-title=\"${title}\">\n          <img class=\"img-shop-list\" src=\"${img}\" alt=\"${title}\" loading=\"lazy\" />\n          <div class=\"right-card-part\">\n            <div class=\"card-top-shop-list\">\n              <p class=\"title-shop-list\">${title}</p>\n              <p class=\"category-shop-list\">${category}</p>\n              <p class=\"description-shop-list\">${description}</p>\n            </div>\n            <div class=\"card-bottom-shop-list\">\n              <p class=\"author-shop-list\">${author}</p>\n              <ul class=\"links-shop-list\">\n                <li>\n                  <a\n                    href=\"${amazon}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    >amaz</a\n                  >\n                </li>\n                <li>\n                  <a\n                    href=\"${apple}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    >app</a\n                  >\n                </li>\n              </ul>\n            </div>\n          </div>\n          <button class=\"delete-btn-shop-list\" type=\"button\"></button>\n        </li>\n      `;\n    })\n    .join('');\n  refs.booksContainerShop.insertAdjacentHTML('beforeend', markup);\n\n  refs.booksContainerShop.addEventListener('click', onDeleteBtnClick);\n}\n\nfunction onDeleteBtnClick(e) {\n  if (!e.target.classList.contains('delete-btn-shop-list')) {\n    return;\n  }\n\n  const deletedBookCard = e.target.closest('.book-card-shop-list');\n  const deletedBookTitle = deletedBookCard.getAttribute('data-title');\n  deletedBookCard.remove();\n\n  const index = booksArray.findIndex(book => book.title === deletedBookTitle);\n  if (index !== -1) {\n    booksArray.splice(index, 1);\n    localStorage.setItem(key, JSON.stringify(booksArray));\n  }\n\n  if (booksArray.length === 0) {\n    localStorage.removeItem(key);\n    refs.containerShopList.classList.add('visually-hidden');\n    refs.shoppingWrapDesk.classList.remove('visually-hidden');\n  }\n}\n\ngetBooks(key);\n\nif (booksArray.length === 0) {\n  refs.containerShopList.classList.add('visually-hidden');\n} else {\n  refs.shoppingWrapDesk.classList.add('visually-hidden');\n  createMarkup(booksArray);\n}\n"],"names":["$8nrFW","parcelRequire","key1","_booksArray","savedBooks","markup","$399cd7aec2522034$export$df61b30b684217c0","$399cd7aec2522034$var$booksArray","$399cd7aec2522034$var$refs","booksContainerShop","document","querySelector","containerShopList","shoppingWrapDesk","$399cd7aec2522034$var$onDeleteBtnClick","e","target","classList","contains","deletedBookCard","closest","deletedBookTitle","getAttribute","remove","index","findIndex","book","title","splice","localStorage","setItem","JSON","stringify","length","removeItem","add","getItem","push","apply","$parcel$interopDefault","parse","map","param","img","category","description","author","amazon","apple","concat","join","insertAdjacentHTML","addEventListener"],"version":3,"file":"shoping-list.c97ad751.js.map"}