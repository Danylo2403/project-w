{"mappings":"AAAO,MACDA,EAAa,GACbC,EAAO,CACXC,mBAAoBC,SAASC,cAAc,8BAC3CC,kBAAmBF,SAASC,cAAc,wBAC1CE,iBAAkBH,SAASC,cAAc,wBAwD3C,SAASG,EAAiBC,GACxB,IAAKA,EAAEC,OAAOC,UAAUC,SAAS,wBAC/B,OAGF,MAAMC,EAAkBJ,EAAEC,OAAOI,QAAQ,wBACnCC,EAAmBF,EAAgBG,aAAa,cACtDH,EAAgBI,SAEhB,MAAMC,EAAQjB,EAAWkB,WAAUC,GAAQA,EAAKC,QAAUN,KAC5C,IAAVG,IACFjB,EAAWqB,OAAOJ,EAAO,GACzBK,aAAaC,QAzEE,mBAyEWC,KAAKC,UAAUzB,KAGjB,IAAtBA,EAAW0B,SACbJ,aAAaK,WA7EE,oBA8Ef1B,EAAKI,kBAAkBK,UAAUkB,IAAI,mBACrC3B,EAAKK,iBAAiBI,UAAUM,OAAO,mB,EAvE3C,SAAkBa,GAChB,IACE,MAAMC,EAAaR,aAAaS,QAAQF,GACxC7B,EAAWgC,QAAQR,KAAKS,MAAMH,G,CAC9B,MAAOI,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EAsE7CC,CAnFmB,oBAqFO,IAAtBrC,EAAW0B,OACbzB,EAAKI,kBAAkBK,UAAUkB,IAAI,oBAErC3B,EAAKK,iBAAiBI,UAAUkB,IAAI,mBAvEtC,SAAsBU,GACpB,MAAMC,EAASD,EACZE,KAAI,EAACC,IAAEA,EAAGrB,MAAEA,EAAKsB,SAAEA,EAAQC,YAAEA,EAAWC,OAAEA,EAAMC,OAAEA,EAAMC,MAAEA,KAClD,yDACyC1B,kDACVqB,WAAarB,yJAGdA,sDACGsB,yDACGC,yHAGLC,4HAIhBC,2OAQAC,8TAavBC,KAAK,IACR9C,EAAKC,mBAAmB8C,mBAAmB,YAAaT,GAExDtC,EAAKC,mBAAmB+C,iBAAiB,QAAS1C,E,CA+BlD2C,CAAalD","sources":["src/js/shopping-list.js"],"sourcesContent":["export const key = 'booksShopingList';\nconst booksArray = [];\nconst refs = {\n  booksContainerShop: document.querySelector('.books-container-shop-list'),\n  containerShopList: document.querySelector('.container-shop-list'),\n  shoppingWrapDesk: document.querySelector('.shopping-wrap-desk'),\n};\n\nfunction getBooks(key) {\n  try {\n    const savedBooks = localStorage.getItem(key);\n    booksArray.push(...JSON.parse(savedBooks));\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\nfunction createMarkup(books) {\n  const markup = books\n    .map(({ img, title, category, description, author, amazon, apple }) => {\n      return `\n        <li class=\"book-card-shop-list\" data-title=\"${title}\">\n          <img class=\"img-shop-list\" src=\"${img}\" alt=\"${title}\" loading=\"lazy\" />\n          <div class=\"right-card-part\">\n            <div class=\"card-top-shop-list\">\n              <p class=\"title-shop-list\">${title}</p>\n              <p class=\"category-shop-list\">${category}</p>\n              <p class=\"description-shop-list\">${description}</p>\n            </div>\n            <div class=\"card-bottom-shop-list\">\n              <p class=\"author-shop-list\">${author}</p>\n              <ul class=\"links-shop-list\">\n                <li>\n                  <a\n                    href=\"${amazon}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    >amaz</a\n                  >\n                </li>\n                <li>\n                  <a\n                    href=\"${apple}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    >app</a\n                  >\n                </li>\n              </ul>\n            </div>\n          </div>\n          <button class=\"delete-btn-shop-list\" type=\"button\"></button>\n        </li>\n      `;\n    })\n    .join('');\n  refs.booksContainerShop.insertAdjacentHTML('beforeend', markup);\n\n  refs.booksContainerShop.addEventListener('click', onDeleteBtnClick);\n}\n\nfunction onDeleteBtnClick(e) {\n  if (!e.target.classList.contains('delete-btn-shop-list')) {\n    return;\n  }\n\n  const deletedBookCard = e.target.closest('.book-card-shop-list');\n  const deletedBookTitle = deletedBookCard.getAttribute('data-title');\n  deletedBookCard.remove();\n\n  const index = booksArray.findIndex(book => book.title === deletedBookTitle);\n  if (index !== -1) {\n    booksArray.splice(index, 1);\n    localStorage.setItem(key, JSON.stringify(booksArray));\n  }\n\n  if (booksArray.length === 0) {\n    localStorage.removeItem(key);\n    refs.containerShopList.classList.add('visually-hidden');\n    refs.shoppingWrapDesk.classList.remove('visually-hidden');\n  }\n}\n\ngetBooks(key);\n\nif (booksArray.length === 0) {\n  refs.containerShopList.classList.add('visually-hidden');\n} else {\n  refs.shoppingWrapDesk.classList.add('visually-hidden');\n  createMarkup(booksArray);\n}\n"],"names":["$e5c62ffd1c5d842f$var$booksArray","$e5c62ffd1c5d842f$var$refs","booksContainerShop","document","querySelector","containerShopList","shoppingWrapDesk","$e5c62ffd1c5d842f$var$onDeleteBtnClick","e","target","classList","contains","deletedBookCard","closest","deletedBookTitle","getAttribute","remove","index","findIndex","book","title","splice","localStorage","setItem","JSON","stringify","length","removeItem","add","key1","savedBooks","getItem","push","parse","error","console","message","$e5c62ffd1c5d842f$var$getBooks","books","markup","map","img","category","description","author","amazon","apple","join","insertAdjacentHTML","addEventListener","$e5c62ffd1c5d842f$var$createMarkup"],"version":3,"file":"shoping-list.70ff444b.js.map"}